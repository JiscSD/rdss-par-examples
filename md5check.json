{
    "preservationActionName": "MD5 Checksum Validation Using md5sum",
    "id": {
        "id": "MD5CheckMD5Sum",
        "namespaceURI": "http://www.parcore.org/actions",
        "namespacePrefix": "PAR"
    },
    "description": "Validation of an MD5 checksum on a File using md5sum",
    "example": " commandline 'md5sum -c manifest.md5', where manifest.md5 contains a MD5 checksum for a file called inputfile",
    "type": {
        "id": "fix",
        "label": "fixity check",
        "uri": "http://id.loc.gov/vocabulary/preservation/eventType/fix"
    },
    "inputs": [{
            "name": "manifest.md5",
            "type": "File",
            "description": "Manifest file containing the MD5 and name of the file to be checked",
            "binding": {
                "prefix": "-c",
                "position": 1
            },
            "secondaryFiles": [{
                    "name": "inputfile",
                    "description": "The file that needs checking"
                }
            ]
        }
    ],
    "outputs": [{
            "name": "pass_fail",
            "description": "Fixity PASS or FAIL",
            "type": "stdout",
            "outputMapping": {
                "mappingExpression": "grep -o -e 'FAILED' -e 'OK' | sed 's/OK/PASS/g' | sed 's/FAILED/FAIL/g'",
                "mappingExpressionType": "shellScript",
                "mapping": {
                    "parPropertyId": "fixityStatus"
                }
            }
        }
    ],
    "tool": {
        "toolID": "md5sum"
    }
}
